
 class Solution {
public:

    int stob(string s){
        int n = s.size();
        int num = 0;
        int p = 1;

        for(int i = n - 1; i >= 0; i--){
            int x = s[i] - '0';
            num += x * p;
            p = p * 2;
        }

        return num;
    }

    void generate(TreeNode* root, vector<string>& ans, string s){

        if(root == nullptr) return;

        s.push_back(root->val + '0');

        if(root->left == nullptr && root->right == nullptr){
            ans.push_back(s);
            return;
        }

        generate(root->left, ans, s);
        generate(root->right, ans, s);
    }

    int sumRootToLeaf(TreeNode* root) {
        
        string str = "";
        vector<string> ans;

        generate(root, ans, str);

        int sum = 0;

        for(int i = 0; i < ans.size(); i++){
            sum += stob(ans[i]);
        }

        return sum;
    }
};
